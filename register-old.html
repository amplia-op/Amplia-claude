<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registro - Amplia Militar</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background-color: #f0f2f5;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }
    
    .register-container {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      padding: 30px;
      width: 100%;
      max-width: 500px;
      text-align: center;
    }
    
    h1 {
      color: #2e4057;
      margin-bottom: 24px;
      font-size: 1.8rem;
    }
    
    form {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-bottom: 20px;
    }
    
    .form-row {
      display: flex;
      gap: 16px;
    }
    
    .form-group {
      text-align: left;
      flex: 1;
    }
    
    label {
      display: block;
      margin-bottom: 6px;
      font-weight: 500;
      color: #4a5568;
      font-size: 0.9rem;
    }
    
    input, select {
      width: 100%;
      padding: 12px;
      border: 1px solid #cbd5e0;
      border-radius: 4px;
      font-size: 1rem;
      transition: border-color 0.3s;
    }
    
    input:focus, select:focus {
      border-color: #4299e1;
      outline: none;
      box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.2);
    }
    
    button {
      background-color: #4a5568;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 12px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.2s;
      margin-top: 8px;
    }
    
    button:hover {
      background-color: #2d3748;
    }
    
    button:disabled {
      background-color: #a0aec0;
      cursor: not-allowed;
    }
    
    .terms {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      text-align: left;
      margin-top: 8px;
    }
    
    .terms input {
      width: auto;
      margin-top: 3px;
    }
    
    .terms label {
      font-size: 0.85rem;
      margin-bottom: 0;
    }
    
    .error-message {
      color: #e53e3e;
      font-size: 0.85rem;
      margin-top: 4px;
      text-align: left;
      display: none;
    }
    
    .login-link {
      color: #4299e1;
      text-decoration: none;
      font-weight: 500;
    }
    
    .password-requirements {
      background-color: #f7fafc;
      border: 1px solid #e2e8f0;
      border-radius: 4px;
      padding: 12px;
      margin-top: 4px;
      text-align: left;
      font-size: 0.8rem;
    }
    
    .password-requirements ul {
      list-style-type: none;
      margin-top: 6px;
    }
    
    .password-requirements li {
      margin-bottom: 4px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .password-requirements li::before {
      content: "•";
      color: #a0aec0;
      font-size: 1.2rem;
    }
    
    .password-requirements li.valid::before {
      content: "✓";
      color: #48bb78;
    }
    
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(255, 255, 255, 0.7);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    
    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid rgba(66, 153, 225, 0.2);
      border-radius: 50%;
      border-top-color: #4299e1;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }
    
    .success-message {
      background-color: #c6f6d5;
      border: 1px solid #9ae6b4;
      color: #276749;
      padding: 15px;
      border-radius: 4px;
      margin-bottom: 20px;
      display: none;
      text-align: left;
    }
    
    @media (max-width: 640px) {
      .register-container {
        padding: 20px;
      }
      
      h1 {
        font-size: 1.5rem;
      }
      
      .form-row {
        flex-direction: column;
        gap: 16px;
      }
    }
  </style>
</head>
<body>
  <main class="register-container">
    <h1>Cadastro - Amplia Militar</h1>
    <div id="successMessage" class="success-message">
      Cadastro realizado com sucesso! Você será redirecionado para a página de login em alguns instantes...
    </div>
    <form id="registerForm">
      <div class="form-row">
        <div class="form-group">
          <label for="nome">Nome Completo</label>
          <input type="text" id="nome" placeholder="Seu nome completo" required>
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" placeholder="Seu melhor email" required>
          <div id="emailError" class="error-message">Email já cadastrado ou inválido</div>
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label for="senha">Senha</label>
          <input type="password" id="senha" placeholder="Crie uma senha forte" required>
          <div class="password-requirements">
            <p>Sua senha deve conter:</p>
            <ul id="passwordChecklist">
              <li id="lengthCheck">Mínimo de 8 caracteres</li>
              <li id="uppercaseCheck">Pelo menos 1 letra maiúscula</li>
              <li id="numberCheck">Pelo menos 1 número</li>
              <li id="specialCheck">Pelo menos 1 caractere especial</li>
            </ul>
          </div>
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label for="confirmarSenha">Confirmar Senha</label>
          <input type="password" id="confirmarSenha" placeholder="Confirme sua senha" required>
          <div id="passwordMatchError" class="error-message">As senhas não coincidem</div>
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label for="concurso">Concurso de Interesse</label>
          <select id="concurso" required>
            <option value="" disabled selected>Selecione</option>
            <option value="espcex">EsPCEx</option>
            <option value="espcex-eear">AFA/ITA</option>
            <option value="espcex-esa">ESA</option>
            <option value="espcex-en">Escola Naval</option>
            <option value="espcex-afa">AFA</option>
            <option value="pm">Polícia Militar</option>
            <option value="bombeiros">Corpo de Bombeiros</option>
            <option value="outros">Outros</option>
          </select>
        </div>
      </div>
      
      <div class="terms">
        <input type="checkbox" id="termos" required>
        <label for="termos">Li e concordo com os <a href="#" class="login-link">Termos de Uso</a> e <a href="#" class="login-link">Política de Privacidade</a></label>
      </div>
      
      <button type="submit" id="registerButton">Cadastrar</button>
    </form>
    <p>Já tem uma conta? <a href="#" class="login.html">Faça login aqui</a></p>
  </main>
  
  <div id="loading" class="loading-overlay">
    <div class="spinner"></div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const registerForm = document.getElementById('registerForm');
      const passwordInput = document.getElementById('senha');
      const confirmPasswordInput = document.getElementById('confirmarSenha');
      const emailInput = document.getElementById('email');
      const emailError = document.getElementById('emailError');
      const passwordMatchError = document.getElementById('passwordMatchError');
      const registerButton = document.getElementById('registerButton');
      const loadingOverlay = document.getElementById('loading');
      const successMessage = document.getElementById('successMessage');
      
      // Verificação de força da senha
      const lengthCheck = document.getElementById('lengthCheck');
      const uppercaseCheck = document.getElementById('uppercaseCheck');
      const numberCheck = document.getElementById('numberCheck');
      const specialCheck = document.getElementById('specialCheck');
      
      // Emails "já cadastrados" para simulação
      const existingEmails = ['teste@exemplo.com', 'usuario@militar.com'];
      
      // Validação de senha em tempo real
      passwordInput.addEventListener('input', validatePassword);
      
      function validatePassword() {
        const password = passwordInput.value;
        
        // Verificar comprimento
        if (password.length >= 8) {
          lengthCheck.classList.add('valid');
        } else {
          lengthCheck.classList.remove('valid');
        }
        
        // Verificar letra maiúscula
        if (/[A-Z]/.test(password)) {
          uppercaseCheck.classList.add('valid');
        } else {
          uppercaseCheck.classList.remove('valid');
        }
        
        // Verificar número
        if (/[0-9]/.test(password)) {
          numberCheck.classList.add('valid');
        } else {
          numberCheck.classList.remove('valid');
        }
        
        // Verificar caractere especial
        if (/[^A-Za-z0-9]/.test(password)) {
          specialCheck.classList.add('valid');
        } else {
          specialCheck.classList.remove('valid');
        }
      }
      
      // Verificar se as senhas coincidem
      confirmPasswordInput.addEventListener('input', function() {
        if (passwordInput.value !== confirmPasswordInput.value) {
          passwordMatchError.style.display = 'block';
        } else {
          passwordMatchError.style.display = 'none';
        }
      });
      
      // Verificar se email já existe
      emailInput.addEventListener('blur', function() {
        const email = emailInput.value.trim().toLowerCase();
        
        if (existingEmails.includes(email)) {
          emailError.style.display = 'block';
        } else {
          emailError.style.display = 'none';
        }
      });
      
      // Envio do formulário
      registerForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const email = emailInput.value.trim().toLowerCase();
        const password = passwordInput.value;
        const confirmPassword = confirmPasswordInput.value;
        
        // Verificar se email já existe
        if (existingEmails.includes(email)) {
          emailError.style.display = 'block';
          return;
        }
        
        // Verificar se as senhas coincidem
        if (password !== confirmPassword) {
          passwordMatchError.style.display = 'block';
          return;
        }
        
        // Verificar força da senha
        if (
          password.length < 8 || 
          !/[A-Z]/.test(password) || 
          !/[0-9]/.test(password) || 
          !/[^A-Za-z0-9]/.test(password)
        ) {
          return;
        }
        
        // Mostrar loading
        loadingOverlay.style.display = 'flex';
        registerButton.disabled = true;
        
        // Simular tempo de resposta do servidor
        setTimeout(function() {
          // Esconder loading
          loadingOverlay.style.display = 'none';
          
          // Mostrar mensagem de sucesso
          registerForm.style.display = 'none';
          successMessage.style.display = 'block';
          
          // Simular redirecionamento após alguns segundos
          setTimeout(function() {
            alert('Cadastro realizado com sucesso! Em uma aplicação real, você seria redirecionado para a página de login.');
            window.location.href = 'login.html';
          }, 3000);
        }, 2000);
      });
    });
  </script>
</body>
</html>